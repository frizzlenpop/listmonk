# Multi-Tenant Listmonk Environment Configuration
# Copy this file to .env and customize for your deployment

#=============================================================================
# BASIC APPLICATION SETTINGS
#=============================================================================

# Administrative user (created on first run if specified)
LISTMONK_ADMIN_USER=admin
LISTMONK_ADMIN_PASSWORD=changeme123!

# Timezone
TIMEZONE=UTC

#=============================================================================
# MULTI-TENANCY CORE SETTINGS
#=============================================================================

# Enable multi-tenancy (required)
LISTMONK_MULTITENANCY_ENABLED=true

# Default tenant configuration
LISTMONK_DEFAULT_TENANT_ID=1
LISTMONK_DEFAULT_TENANT_NAME=Default Organization
LISTMONK_DEFAULT_TENANT_SLUG=default

# Super admin email (for cross-tenant management)
LISTMONK_SUPER_ADMIN_EMAIL=admin@localhost

#=============================================================================
# DOMAIN AND ROUTING CONFIGURATION
#=============================================================================

# Base domain for your Listmonk installation
# Development: localhost
# Production: yourdomain.com
BASE_DOMAIN=localhost

# Tenant subdomain configuration
LISTMONK_TENANT_BASE_DOMAIN=localhost
LISTMONK_TENANT_DOMAIN_SUFFIX=.listmonk.localhost

# Tenant resolution methods (true/false)
LISTMONK_TENANT_RESOLUTION_SUBDOMAIN=true
LISTMONK_TENANT_RESOLUTION_DOMAIN=true
LISTMONK_TENANT_RESOLUTION_HEADER=true
LISTMONK_TENANT_RESOLUTION_QUERY=false

#=============================================================================
# SECURITY AND ISOLATION SETTINGS
#=============================================================================

# Strict tenant isolation (recommended: true)
LISTMONK_TENANT_STRICT_MODE=true

# Auto-create tenants on first access (recommended: false for production)
LISTMONK_TENANT_AUTO_CREATE=false

# Tenant-segregated file uploads (recommended: true)
LISTMONK_TENANT_UPLOADS_SEGREGATED=true

#=============================================================================
# PERFORMANCE AND CACHING
#=============================================================================

# Enable tenant caching
LISTMONK_TENANT_CACHE_ENABLED=true
LISTMONK_TENANT_CACHE_TTL=600

# Redis configuration (optional, for caching)
# LISTMONK_TENANT_REDIS_HOST=redis:6379
# LISTMONK_TENANT_REDIS_PASSWORD=your-redis-password

#=============================================================================
# FILE STORAGE CONFIGURATION
#=============================================================================

# S3 storage (optional, for production)
S3_ENABLED=false
# S3_BUCKET=your-listmonk-bucket
# S3_REGION=us-east-1
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key

#=============================================================================
# MONITORING AND LOGGING
#=============================================================================

# Logging level (debug, info, warn, error, quiet)
LOG_LEVEL=info

# Prometheus metrics (for monitoring)
PROMETHEUS_ENABLED=true

# Grafana dashboard (production only)
GRAFANA_ADMIN_USER=admin
# GRAFANA_ADMIN_PASSWORD=secure-grafana-password

#=============================================================================
# BACKUP CONFIGURATION
#=============================================================================

# Backup settings
BACKUP_RETENTION_DAYS=30
COMPRESS_BACKUPS=true

#=============================================================================
# PRODUCTION-SPECIFIC SETTINGS
#=============================================================================

# CAPTCHA configuration (production recommended)
# CAPTCHA_KEY=your-captcha-site-key
# CAPTCHA_SECRET=your-captcha-secret-key

# Enable public archive (true/false)
ENABLE_PUBLIC_ARCHIVE=false

# Redis password (production)
# REDIS_PASSWORD=secure-redis-password

#=============================================================================
# DATABASE CONFIGURATION
#=============================================================================
# Note: Database settings are handled by docker-compose
# You can override them here if needed

# LISTMONK_db__host=listmonk_db
# LISTMONK_db__port=5432
# LISTMONK_db__user=listmonk
# LISTMONK_db__password=listmonk2024
# LISTMONK_db__database=listmonk
# LISTMONK_db__ssl_mode=disable

#=============================================================================
# DEVELOPMENT SETTINGS
#=============================================================================

# Only for development - allows tenant switching via query parameter
# LISTMONK_TENANT_RESOLUTION_QUERY=true

# Development default tenant domain (optional)
# LISTMONK_DEFAULT_TENANT_DOMAIN=dev.localhost

#=============================================================================
# CONTAINER SETTINGS
#=============================================================================

# User/Group IDs for file permissions
PUID=1001
PGID=1001

# Health check settings
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_URL=http://localhost:9000